<!doctype html>
<html>

<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<link rel= "stylesheet" href= "list.css">

<style>
  @import url(list.css);
  @import url(1122.css);
</style>
<title> Things To Do </title>
<style>
input[type="text"] {
  padding: 8px;
  width: 70%;
  border: 1px solid #ddd;
  border-radius: 5px;

}
button {
  padding: 8px 15px;
  margin-top: 10px;
  background-color: #5a9978;
  color: white;
  border: none;
  cursor: pointer;
  font-size: 16px;
  border-radius: 5px;
}
button:hover {
  background-color: #4a8766;
}


</style>
</head>

<body>

  <div class="header">
    <h1> Our Bucket List ✅  </h1>
    <a href="Favourite.html"><img class="myimage" src="favourite.png" alt="homepage" ></a>
    <a href="About us.html"><img class="myimage" src="relationship.png" alt="homepage" ></a>
    <a href="adventure.html"><img class="myimage" src="home.png" alt="homepage"></a>
    <br>
    <Br>
    </div>

  <div class="box">
    <div class="container"><input type="text" id="newTask" placeholder="Enter new bucket list">
      <button onclick="addTask()">Add</button></div>


    <form id="bucketList">
      <div><input type="checkbox" id="list1" name="list-1" value="Aquarium">
        <label for="list1">Aquarium</label></div>
      <div><input type="checkbox" id="list2" name="list-2" value="Blue Mountains Night Walk">
        <label for="list2">Blue Mountains Night Walk</label></div>
      <div> <input type="checkbox" id="list3" name="list-3" value="Carpool Karaoke">
        <label for="list3">Carpool Karaoke</label></div>
      <div><input type="checkbox" id="list4" name="list-4" value="Bouldering">
        <label for="list4">Bouldering</label></div>
      <div><input type="checkbox" id="list5" name="list-5" value="Board Games">
        <label for="list5">Board Games</label></div>
      <div><input type="checkbox" id="list6" name="list-6" value="Lego Date Night" >
        <label for="list6">Lego Date Night</label></div>
      <div><input type="checkbox" id="list7" name="list-7" value="Top Golf">
        <label for="list7">Top Golf</label></div>
      <div><input type="checkbox" id="list8" name="list-8" value="Photo/Film Day Out">
        <label for="list8">Photo/Film Day Out</label></div>
      <div><input type="checkbox" id="list9" name="list-9" value="Dancing in the Rain">
        <label for="list9">Dancing in the Rain</label></div>
      <div><input type="checkbox" id="list10" name="list-10" value="Watch Fireworks (Maybe NYE)">
        <label for="list10">Watch Fireworks (Maybe NYE)</label></div>
      <div><input type="checkbox" id="list11" name="list-11" value="Stroll along a River" >
        <label for="list11">Stroll along a River</label></div>
      <div><input type="checkbox" id="list12" name="list-12" value="Bike Riding">
        <label for="list12">Bike Riding</label></div>
      <div><input type="checkbox" id="list13" name="list-13" value="Tufting">
        <label for="list13">Tufting</label></div>
      <div><input type="checkbox" id="list14" name="list-14" value="Japanese hot spring in blue mountain">
        <label for="list14">Japanese hot spring in blue mountain</label></div>
      <div><input type="checkbox" id="list15" name="list-15" value="Melbourne trip - Onsen">
        <label for="list15">Melbourne trip - Onsen</label></div>
      <div><input type="checkbox" id="list16" name="list-16" value="Drive to the Beach at Night">
        <label for="list16">Drive to the Beach at Night</label></div>
      <div><input type="checkbox" id="list17" name="list-17" value="Baking">
        <label for="list17">Baking</label></div>
      <div><input type="checkbox" id="list18" name="list-18" value="Karaoke">
        <label for="list18">Karaoke</label></div>
      <div><input type="checkbox" id="list19" name="list-19" value="Ice skating">
        <label for="list19">Ice skating</label></div>
      <div><input type="checkbox" id="list20" name="list-20" value="Camping">
        <label for="list20">Camping</label></div>
      <div><input type="checkbox" id="list21" name="list-21" value="Drive in Cinema">
        <label for="list21">Drive in Cinema</label></div>
      <div><input type="checkbox" id="list22" name="list-22" value="Movie at home">
        <label for="list22">Movie at home</label></div>
      <div><input type="checkbox" id="list23" name="list-23" value="Paint on 2 canvases and swith periodically">
        <label for="list23">Paint on 2 canvases and swith periodically</label></div>
      <div><input type="checkbox" id="list24" name="list-24" value="Snack swap">
        <label for="list24">Snack swap</label></div>
      <div><input type="checkbox" id="list25" name="list-25" value="Observatory Hills">
        <label for="list25">Observatory Hills</label></div>
      <div><input type="checkbox" id="list26" name="list-26" value="Paint n Sip">
        <label for="list26">Paint n Sip</label></div>
      <div><input type="checkbox" id="list27" name="list-27" value="Urban surf">
        <label for="list27">Urban surf</label></div>
      <div><input type="checkbox" id="list28" name="list-28" value="Coop Games">
        <label for="list28">Coop Games</label></div>
      <div><input type="checkbox" id="list29" name="list-29" value="Watch the Sunrise">
        <label for="list29">Watch the Sunrise</label></div>
      <div><input type="checkbox" id="list30" name="list-30" value="Watch the Sunset">
        <label for="list30">Watch the Sunset</label></div>
      <div><input type="checkbox" id="list31" name="list-31" value="Stargazing">
        <label for="list31">Stargazing</label></div>
      <div><input type="checkbox" id="list32" name="list-32" value="Vivid">
        <label for="list32">Vivid</label></div>
      <div><input type="checkbox" id="list33" name="list-33" value="Indoor Picnic with Fairy Lights and Candles">
        <label for="list33">Indoor Picnic with Fairy Lights and Candles</label></div>
      <div><input type="checkbox" id="list34" name="list-34" value="Put on Italian music playlist and cook Italian food only speaking with Italian accents">
        <label for="list34">Put on Italian music playlist and cook Italian food only speaking with Italian accents</label></div>
      <div><input type="checkbox" id="list35" name="list-35" value="Jambaroo">
        <label for="list35">Jambaroo</label></div>
      <div><input type="checkbox" id="list36" name="list-36" value="Wet n Wild">
        <label for="list36">Wet n Wild</label></div>
      <div><input type="checkbox" id="list37" name="list-37" value="Penrith Cables">
        <label for="list37">Penrith Cables</label></div>
      <div><input type="checkbox" id="list38" name="list-38" value="Throw Dart at Map">
        <label for="list38">Throw Dart at Map</label></div>
      <div><input type="checkbox" id="list39" name="list-39" value="Luna Park">
        <label for="list39">Luna Park</label></div>
      <div><input type="checkbox" id="list40" name="list-40" value="Beach">
        <label for="list40">Beach</label></div>

    </form>
  </div>

  <script>
    document.addEventListener("DOMContentLoaded", function () {
        const bucketList = document.getElementById("bucketList");

        // ✅ Load checked & disabled tasks from localStorage
        const checkedTasks = JSON.parse(localStorage.getItem("checkedTasks")) || [];
        const disabledTasks = JSON.parse(localStorage.getItem("disabledTasks")) || [];

        let tasks = JSON.parse(localStorage.getItem("bucketList")) || [];

        tasks.forEach(task => {
            addTaskToDOM(task.text, task.checked, task.disabled);
        });

        // ✅ Restore checked & disabled states
        checkedTasks.forEach(id => {
            const checkbox = document.getElementById(id);
            if (checkbox) checkbox.checked = true;
        });

        disabledTasks.forEach(id => {
            const checkbox = document.getElementById(id);
            if (checkbox) checkbox.disabled = true;
        });

        // ✅ Listen for checkbox changes
        bucketList.addEventListener("change", function (e) {
            if (e.target.type === "checkbox") {
                updateTaskStates();
            }
        });
    });

    function addTask() {
        const taskInput = document.getElementById("newTask");
        const taskText = taskInput.value.trim();
        if (!taskText) return;

        if (isTaskDuplicate(taskText)) {
            alert("This task already exists in the list!");
            return;
        }

        addTaskToDOM(taskText);
        saveNewTask(taskText, false, false);
        taskInput.value = "";

    }

    function isTaskDuplicate(text) {
        return [...document.querySelectorAll("#bucketList label")].some(label => label.innerText.toLowerCase() === text.toLowerCase());
    }

    function saveNewTask(text, checked, disabled) {
        let tasks = JSON.parse(localStorage.getItem("bucketList")) || [];
        tasks.push({ text: text, checked: checked, disabled: disabled });
        localStorage.setItem("bucketList", JSON.stringify(tasks));
    }

    function addTaskToDOM(text) {
        const bucketList = document.getElementById("bucketList");
        const newId = "list" + (document.querySelectorAll('input[type="checkbox"]').length + 1);

        bucketList.insertAdjacentHTML("beforeend", `
            <div>
                <input type="checkbox" id="${newId}">
                <label for="${newId}">${text}</label>
            </div>
        `);
    }

    function updateTaskStates() {
        let checkedTasks = [];
        let disabledTasks = [];
        let tasks = [];

        document.querySelectorAll("#bucketList input[type='checkbox']").forEach(checkbox => {
            if (checkbox.checked) {
                checkedTasks.push(checkbox.id);
                checkbox.disabled = true;
                disabledTasks.push(checkbox.id);
            }
        });
        document.querySelectorAll("#bucketList div").forEach(div => {
            const checkbox = div.querySelector("input[type='checkbox']");
            const label = div.querySelector("label");
            tasks.push({ text: label.innerText, checked: checkbox.checked, disabled: checkbox.disabled });

            if (checkbox.checked) {
                checkbox.disabled = true;  // Disable checked tasks
            }
        });

        localStorage.setItem("bucketList", JSON.stringify(tasks));
        localStorage.setItem("checkedTasks", JSON.stringify(checkedTasks));
        localStorage.setItem("disabledTasks", JSON.stringify(disabledTasks));
    }
  </script>
<a style="display:scroll;position:fixed;bottom:10px;right:10px;" href="#" title="Top">Go to Top</a>
</body>


</html>
